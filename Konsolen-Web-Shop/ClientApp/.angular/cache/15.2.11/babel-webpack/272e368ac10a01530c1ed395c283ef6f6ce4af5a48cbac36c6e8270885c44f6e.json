{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n    this.benutzername = '';\n    this.passwort = '';\n    this.passwordFieldType = 'password';\n  }\n  // Funktion zum Umschalten der Passwortsichtbarkeit\n  togglePasswordVisibility() {\n    this.passwordFieldType = this.passwordFieldType === 'password' ? 'text' : 'password';\n  }\n  // Funktion zum Absenden des Formulars\n  onSubmit() {\n    const loginData = {\n      Username: this.benutzername,\n      Password: this.passwort\n    };\n    // API-Aufruf zum Login\n    this.http.post('http://localhost:5000/api/login', loginData).subscribe(response => {\n      if (response.success) {\n        sessionStorage.setItem('userId', response.userId); // Benutzer-ID in der Session speichern\n        this.router.navigate(['/Shop']); // Weiterleitung zum Shop\n      } else {\n        alert('Falsche Anmeldedaten');\n      }\n    }, error => {\n      console.error('Login fehlgeschlagen', error);\n      alert('Ein Fehler ist aufgetreten');\n    });\n  }\n  static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 16,\n    vars: 5,\n    consts: [[1, \"container\"], [3, \"ngSubmit\"], [\"loginForm\", \"ngForm\"], [\"type\", \"text\", \"name\", \"benutzername\", \"placeholder\", \"Benutzername\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [2, \"position\", \"relative\"], [\"id\", \"passwort\", \"name\", \"passwort\", \"placeholder\", \"Passwort\", \"required\", \"\", 1, \"password-field\", 3, \"type\", \"ngModel\", \"ngModelChange\"], [1, \"eye-icon\", 2, \"cursor\", \"pointer\", \"position\", \"absolute\", \"right\", \"10px\", \"top\", \"50%\", \"transform\", \"translateY(-50%)\", 3, \"click\"], [1, \"fas\", 3, \"ngClass\"], [\"type\", \"submit\", 3, \"disabled\"], [\"routerLink\", \"/registrieren\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n        i0.ɵɵtext(2, \"Anmeldung\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"form\", 1, 2);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_3_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(5, \"input\", 3);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_5_listener($event) {\n          return ctx.benutzername = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 4)(7, \"input\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_7_listener($event) {\n          return ctx.passwort = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"span\", 6);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_span_click_8_listener() {\n          return ctx.togglePasswordVisibility();\n        });\n        i0.ɵɵelement(9, \"i\", 7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"button\", 8);\n        i0.ɵɵtext(11, \"Anmelden\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"p\");\n        i0.ɵɵtext(13, \"Noch nicht registriert? \");\n        i0.ɵɵelementStart(14, \"a\", 9);\n        i0.ɵɵtext(15, \"Hier registrieren\");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(4);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.benutzername);\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"type\", ctx.passwordFieldType);\n        i0.ɵɵproperty(\"ngModel\", ctx.passwort);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", ctx.passwordFieldType === \"password\" ? \"fa-eye\" : \"fa-eye-slash\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !_r0.valid);\n      }\n    },\n    dependencies: [i3.NgClass, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm, i2.RouterLink],\n    styles: [\".hero-section[_ngcontent-%COMP%] {\\r\\n  background-image: url('https://via.placeholder.com/1920x600');\\r\\n  background-size: cover;\\r\\n  color: white;\\r\\n  padding: 100px 0;\\r\\n}\\r\\n\\r\\n.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\r\\n  font-size: 3rem;\\r\\n  margin-bottom: 20px;\\r\\n}\\r\\n\\r\\n.hero-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\r\\n  font-size: 1.5rem;\\r\\n}\\r\\n\\r\\n.hero-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\r\\n  background-color: #28a745;\\r\\n  color: white;\\r\\n  padding: 15px 30px;\\r\\n  font-size: 1.2rem;\\r\\n  border-radius: 5px;\\r\\n  text-decoration: none;\\r\\n}\\r\\n\\r\\n.hero-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\r\\n  background-color: #218838;\\r\\n}\\r\\n\\r\\n.products-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 30px;\\r\\n}\\r\\n\\r\\n.products-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n  height: 200px;\\r\\n  object-fit: cover;\\r\\n}\\r\\n\\r\\nfooter[_ngcontent-%COMP%] {\\r\\n  background-color: #343a40;\\r\\n  color: white;\\r\\n  text-align: center;\\r\\n  padding: 20px 0;\\r\\n  margin-top: 50px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9Mb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsNkRBQTZEO0VBQzdELHNCQUFzQjtFQUN0QixZQUFZO0VBQ1osZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixnQkFBZ0I7QUFDbEIiLCJzb3VyY2VzQ29udGVudCI6WyIuaGVyby1zZWN0aW9uIHtcclxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2h0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS8xOTIweDYwMCcpO1xyXG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIHBhZGRpbmc6IDEwMHB4IDA7XHJcbn1cclxuXHJcbi5oZXJvLXNlY3Rpb24gaDEge1xyXG4gIGZvbnQtc2l6ZTogM3JlbTtcclxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG59XHJcblxyXG4uaGVyby1zZWN0aW9uIHAge1xyXG4gIGZvbnQtc2l6ZTogMS41cmVtO1xyXG59XHJcblxyXG4uaGVyby1jb250ZW50IGEge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMyOGE3NDU7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIHBhZGRpbmc6IDE1cHggMzBweDtcclxuICBmb250LXNpemU6IDEuMnJlbTtcclxuICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG59XHJcblxyXG4uaGVyby1jb250ZW50IGE6aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMyMTg4Mzg7XHJcbn1cclxuXHJcbi5wcm9kdWN0cy1zZWN0aW9uIC5jYXJkIHtcclxuICBtYXJnaW4tYm90dG9tOiAzMHB4O1xyXG59XHJcblxyXG4ucHJvZHVjdHMtc2VjdGlvbiAuY2FyZCBpbWcge1xyXG4gIGhlaWdodDogMjAwcHg7XHJcbiAgb2JqZWN0LWZpdDogY292ZXI7XHJcbn1cclxuXHJcbmZvb3RlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzM0M2E0MDtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHBhZGRpbmc6IDIwcHggMDtcclxuICBtYXJnaW4tdG9wOiA1MHB4O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"mappings":";;;;;AASA,OAAM,MAAOA,cAAc;EAKzBC,YAAoBC,IAAgB,EAAUC,MAAc;IAAxC,SAAI,GAAJD,IAAI;IAAsB,WAAM,GAANC,MAAM;IAJpD,iBAAY,GAAW,EAAE;IACzB,aAAQ,GAAW,EAAE;IACrB,sBAAiB,GAAW,UAAU;EAEyB;EAE/D;EACAC,wBAAwB;IACtB,IAAI,CAACC,iBAAiB,GAAG,IAAI,CAACA,iBAAiB,KAAK,UAAU,GAAG,MAAM,GAAG,UAAU;EACtF;EAEA;EACAC,QAAQ;IACN,MAAMC,SAAS,GAAG;MAChBC,QAAQ,EAAE,IAAI,CAACC,YAAY;MAC3BC,QAAQ,EAAE,IAAI,CAACC;KAChB;IAED;IACA,IAAI,CAACT,IAAI,CAACU,IAAI,CAAC,iCAAiC,EAAEL,SAAS,CAAC,CAACM,SAAS,CACnEC,QAAa,IAAI;MAChB,IAAIA,QAAQ,CAACC,OAAO,EAAE;QACpBC,cAAc,CAACC,OAAO,CAAC,QAAQ,EAAEH,QAAQ,CAACI,MAAM,CAAC,CAAC,CAAC;QACnD,IAAI,CAACf,MAAM,CAACgB,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;OAClC,MAAM;QACLC,KAAK,CAAC,sBAAsB,CAAC;;IAEjC,CAAC,EACAC,KAAK,IAAI;MACRC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5CD,KAAK,CAAC,4BAA4B,CAAC;IACrC,CAAC,CACF;EACH;EAAC;qBAlCUpB,cAAc;EAAA;EAAA;UAAdA,cAAc;IAAAuB;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCT3BC,8BAAuB;QACjBA,yBAAS;QAAAA,iBAAK;QAClBA,kCAAkD;QAA5CA;UAAA,OAAYC,cAAU;QAAA,EAAC;QAC3BD,gCAME;QAHAA;UAAA;QAAA,EAA0B;QAH5BA,iBAME;QACFA,8BAAiC;QAK7BA;UAAA;QAAA,EAAsB;QAJxBA,iBAQE;QACFA,+BAIC;QAFCA;UAAA,OAASC,8BAA0B;QAAA,EAAC;QAG5BD,uBAA4F;QAChGA,iBAAO;QAEfA,kCAAoD;QAAAA,yBAAQ;QAAAA,iBAAS;QAEvEA,0BAAG;QAAAA,yCAAwB;QAAAA,6BAA8B;QAAAA,kCAAiB;QAAAA,iBAAI;;;;QAxB1EA,eAA0B;QAA1BA,0CAA0B;QAMxBA,eAA4B;QAA5BA,uDAA4B;QAG5BA,sCAAsB;QAUCA,eAAwE;QAAxEA,0FAAwE;QAG7EA,eAA6B;QAA7BA,qCAA6B","names":["LoginComponent","constructor","http","router","togglePasswordVisibility","passwordFieldType","onSubmit","loginData","Username","benutzername","Password","passwort","post","subscribe","response","success","sessionStorage","setItem","userId","navigate","alert","error","console","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\henkelmatteo\\TF1 IHK TrainingProjekt\\Konsolen-Web-Shop\\Konsolen-Web-Shop\\ClientApp\\src\\app\\components\\Login\\Login.component.ts","C:\\Users\\henkelmatteo\\TF1 IHK TrainingProjekt\\Konsolen-Web-Shop\\Konsolen-Web-Shop\\ClientApp\\src\\app\\components\\Login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent {\r\n  benutzername: string = '';\r\n  passwort: string = '';\r\n  passwordFieldType: string = 'password';\r\n\r\n  constructor(private http: HttpClient, private router: Router) {}\r\n\r\n  // Funktion zum Umschalten der Passwortsichtbarkeit\r\n  togglePasswordVisibility() {\r\n    this.passwordFieldType = this.passwordFieldType === 'password' ? 'text' : 'password';\r\n  }\r\n\r\n  // Funktion zum Absenden des Formulars\r\n  onSubmit() {\r\n    const loginData = {\r\n      Username: this.benutzername,\r\n      Password: this.passwort\r\n    };\r\n\r\n    // API-Aufruf zum Login\r\n    this.http.post('http://localhost:5000/api/login', loginData).subscribe(\r\n      (response: any) => {\r\n        if (response.success) {\r\n          sessionStorage.setItem('userId', response.userId); // Benutzer-ID in der Session speichern\r\n          this.router.navigate(['/Shop']); // Weiterleitung zum Shop\r\n        } else {\r\n          alert('Falsche Anmeldedaten');\r\n        }\r\n      },\r\n      (error) => {\r\n        console.error('Login fehlgeschlagen', error);\r\n        alert('Ein Fehler ist aufgetreten');\r\n      }\r\n    );\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <h2>Anmeldung</h2>\r\n  <form (ngSubmit)=\"onSubmit()\" #loginForm=\"ngForm\">\r\n    <input\r\n      type=\"text\"\r\n      name=\"benutzername\"\r\n      [(ngModel)]=\"benutzername\"\r\n      placeholder=\"Benutzername\"\r\n      required\r\n    />\r\n    <div style=\"position: relative;\">\r\n      <input\r\n        type=\"{{passwordFieldType}}\"\r\n        id=\"passwort\"\r\n        name=\"passwort\"\r\n        [(ngModel)]=\"passwort\"\r\n        placeholder=\"Passwort\"\r\n        required\r\n        class=\"password-field\"\r\n      />\r\n      <span\r\n        class=\"eye-icon\"\r\n        (click)=\"togglePasswordVisibility()\"\r\n        style=\"cursor: pointer; position: absolute; right: 10px; top: 50%; transform: translateY(-50%);\"\r\n      >\r\n                <i class=\"fas\" [ngClass]=\"passwordFieldType === 'password' ? 'fa-eye' : 'fa-eye-slash'\"></i>\r\n            </span>\r\n    </div>\r\n    <button type=\"submit\" [disabled]=\"!loginForm.valid\">Anmelden</button>\r\n  </form>\r\n  <p>Noch nicht registriert? <a routerLink=\"/registrieren\">Hier registrieren</a></p>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}